2008-10-07 19:57 +0000 [r604]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Update RPM changelog

2008-10-07 19:55 +0000 [r603]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: New release.

2008-10-07 19:54 +0000 [r602]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ANNOUNCE: Prepare the ANNOUNCE file for the
	  release

2008-10-07 19:51 +0000 [r601]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update TODO.

2008-10-07 04:41 +0000 [r600]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Frank Crawford
	  <frank@crawford.emu.id.au> Modified default options for
	  special-file exclusions.

2008-10-07 04:40 +0000 [r599]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.backup.txt, safekeep/trunk/safekeep:
	  Add support for providing the password for the DB user used for
	  the dump.

2008-07-17 23:56 +0000 [r598]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.backup.txt: Use the default version
	  to avoid copy&paste problems.

2008-07-17 19:00 +0000 [r597]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Rework a bit the options processing such
	  that generic rdiff-backup options don't affect the behaviour of
	  the 'special-files' option.

2008-07-17 18:52 +0000 [r596]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.backup.txt, safekeep/trunk/safekeep:
	  Frank Crawford <frank@crawford.emu.id.au> * Added options block
	  in backup configuration file. * Added option to include
	  special-files, i.e. device files, fifos and sockets. Default is
	  to exclude these files. * Added option to allow inclusion of
	  arbitrary rdiff-backup command. * Updated relevant documentation.

2008-06-27 12:55 +0000 [r595]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update TODO

2008-06-27 12:54 +0000 [r594]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Frank Crawford
	  <frank@crawford.emu.id.au> * Loosen restrictions on running
	  --server --cleanup so no root parts will still execute. * Allow
	  local rdiff-backup data cleanup to occur even if client is not
	  accessible.

2008-03-18 15:51 +0000 [r593]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Frank Crawford
	  <frank@crawford.emu.id.au> * Patch client name output for --list
	  --parsable-output option.

2008-03-18 15:47 +0000 [r592]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/doc/safekeep.txt: Frank
	  Crawford <frank@crawford.emu.id.au> * Added a cleanup option to
	  client and server modes to remove safekeep LVM snapshots and
	  mounts after a crash or problem. * Added new communications tag
	  "SCRUB" to do a full remote cleanup. * Added a warning if there
	  is a mismatch in the communications protocol minor level. *
	  Append specific paths (/sbin, /usr/sbin and /usr/local/sbin) to
	  the client path when run in cleanup mode, to cover any path
	  issues. * Fixed a couple of issues with pass client exceptions
	  back to the server, and strip off excess newlines. * Add test and
	  abort run on client if there are any existing safekeep LVM
	  snapshots.

2008-03-01 22:34 +0000 [r591]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: We don't need to rebuild docs at install
	  time, we do that at release time now.

2008-02-26 21:07 +0000 [r584]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ANNOUNCE: Fix URLs

2008-02-26 20:48 +0000 [r582]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ChangeLog: Update ChangeLog

2008-02-26 20:48 +0000 [r581]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Update version.

2008-02-26 20:46 +0000 [r580]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Update .spec file.

2008-02-26 18:18 +0000 [r579]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ANNOUNCE: Prepare the ANNOUNCE file for the
	  release.

2008-02-25 01:03 +0000 [r578]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Build docs for build.

2008-02-25 00:57 +0000 [r577]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.backup.txt, safekeep/trunk/TODO:
	  Clarify snapshot usage.

2008-02-24 16:53 +0000 [r576]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/TODO: More portable way
	  of invoking python, as suggested by Igor Klingen. This fixes it
	  for FreeBSD.

2008-02-24 16:49 +0000 [r575]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.backup.txt, safekeep/trunk/safekeep,
	  safekeep/trunk/doc/safekeep.txt: Frank Crawford
	  <frank@crawford.emu.id.au> This adds the mode --list, and options
	  which correspond with rdiff-backup options, i.e. --increments
	  (equiv --list-increments) - the default, --sizes (equiv
	  --list-increment-sizes), --changed=DATE (equiv
	  --list-changed-since), and --at-time=DATE (equiv --list-at-time).
	  It also adds an option which disables email (--noemail) as when
	  used interactively it isn't worth generating email messages.

2008-02-24 16:42 +0000 [r574]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update TODO

2008-02-24 16:42 +0000 [r573]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Frank Crawford
	  <frank@crawford.emu.id.au> * Fixed failure when mount table has
	  extra options. * Tear down FS snapshots in reverse order to the
	  setup order. * Load the LVM snapshot module, in case it is not
	  already loaded. * Fixed a minor spelling mistake in an assert
	  message.

2007-11-07 15:35 +0000 [r572]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update TODO.

2007-11-07 15:16 +0000 [r571]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Bit clearer snapshot handling.

2007-11-07 15:03 +0000 [r570]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update TODO.

2007-11-07 15:01 +0000 [r569]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile, safekeep/trunk/safekeep.spec.in,
	  safekeep/trunk/debian/control, safekeep/trunk/TODO: Build docs at
	  distribution time to remove build-time dependency on asciidoc 6,
	  which requires python 2.3. These components are not readily
	  available on older system, making it impossible for packagers to
	  provide ready-make packages for distros such as RHEL3. Based on a
	  suggestion from Dag Wieers <dag@wieers.com>.

2007-11-07 14:54 +0000 [r568]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Make uses $() not ${}

2007-11-07 14:52 +0000 [r567]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: More stuff on the wish list

2007-11-07 14:39 +0000 [r566]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Update test to be explicit with the
	  mode

2007-11-07 14:39 +0000 [r565]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Change version to a devel number

2007-11-07 14:36 +0000 [r564]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/TODO,
	  safekeep/trunk/doc/safekeep.txt: Always require specification of
	  the operation mode, based on suggestion from Gert
	  <gert.vrebos@tactics.be>.

2007-11-07 14:21 +0000 [r563]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update TODO with feedback from users.

2007-11-07 14:17 +0000 [r562]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Future import must come first.

2007-11-07 14:15 +0000 [r561]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Provide Python 2.2 compatibility based
	  on a suggestion from Gert <gert.vrebos@tactics.be>.

2007-10-19 17:24 +0000 [r558]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: We have to upload the tarball too to SF.

2007-10-19 17:17 +0000 [r557]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Automate SF uploading too.

2007-10-19 17:10 +0000 [r556]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Add simple deploy target to deploy RPMs
	  to YUM repo

2007-10-19 16:50 +0000 [r554]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in, safekeep/trunk/ChangeLog: Update
	  ChangeLog

2007-10-19 16:47 +0000 [r553]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/ANNOUNCE: Prepare for
	  release 1.0.3.

2007-10-19 16:38 +0000 [r552]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Add target to deploy latest docs to
	  website

2007-10-12 21:17 +0000 [r550]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/LICENSE, safekeep/trunk/safekeep: Fix the
	  copyright notices.

2007-10-09 11:44 +0000 [r549]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Give a clear backup status on job end

2007-10-09 11:44 +0000 [r548]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Better error handling and logging in
	  spawn()

2007-10-09 11:43 +0000 [r547]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/doc/safekeep.txt:
	  Implement --force to handle the unexpected.

2007-09-08 06:06 +0000 [r546]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Remove macro from comments, it
	  gets expanded in there otherwise.

2007-09-07 16:45 +0000 [r544]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ChangeLog: Update ChangeLog

2007-09-07 16:40 +0000 [r543]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in, safekeep/trunk/safekeep,
	  safekeep/trunk/ANNOUNCE: Prepare for 1.0.2.

2007-09-07 03:15 +0000 [r542]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Remove references to
	  %{PACKAGE_VERSION}, follow the Fedora guidelines closer.

2007-09-07 03:12 +0000 [r541]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Provide default attr for all
	  packages.

2007-09-07 03:11 +0000 [r540]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Clarify the licensing in .rpm
	  package

2007-09-07 03:09 +0000 [r539]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: We don't need to include AUTHORS
	  COPYING LICENSE multiple times, keeping them in -common is
	  enough.

2007-09-07 03:08 +0000 [r538]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: More acceptable SF link

2007-06-17 23:26 +0000 [r533]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ANNOUNCE: We now support Fedora 7 too.

2007-06-17 22:47 +0000 [r532]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Tiny fix for Fedora 7

2007-06-17 22:45 +0000 [r531]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Make the tag fully automatic

2007-06-17 22:38 +0000 [r529]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ChangeLog: Update ChangeLog

2007-06-17 22:37 +0000 [r528]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Update version to 1.0.1

2007-06-17 22:36 +0000 [r527]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in, safekeep/trunk/ANNOUNCE: Prepare
	  announcement for version 1.0.1.

2007-06-11 04:00 +0000 [r526]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add automatic release detection,
	  for proper Fedora 7 support.

2007-06-11 00:41 +0000 [r525]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Remove support for Fedora Core 5,
	  add support for Fedora 7 and CentOS 5

2007-06-10 23:02 +0000 [r524]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk, safekeep/trunk/safekeep-test: Adjust the test to
	  support also Fedora 7, which includes the distro id automatically
	  in the generated rpm names.

2007-06-08 22:11 +0000 [r523]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Collect releases in the releases/ dir.

2007-06-08 22:02 +0000 [r522]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Account for FC7 adding the distro id
	  (.f7) to the RPM name.

2007-06-08 21:58 +0000 [r521]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Make sure we don't override
	  user's configuration

2007-06-08 21:55 +0000 [r520]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/rules, safekeep/trunk/safekeep.spec.in:
	  Move the man pages for .backup and .conf to the server package.

2007-06-08 21:49 +0000 [r519]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Bit nicer gecos field.

2007-06-08 20:38 +0000 [r518]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/safekeep-server.postinst,
	  safekeep/trunk/Makefile, safekeep/trunk/safekeep.spec.in: Remove
	  configuration migration code, it shouldn't be necessary anymore
	  now that we reached 1.0. Besides it triggers rpm-lint errors.

2007-06-08 19:46 +0000 [r517]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/safekeep-server.docs,
	  safekeep/trunk/safekeep.spec.in: Do not package safekeep-test,
	  it's useful only during development, and creates all sort of
	  rpm-lint errors.

2007-05-29 04:30 +0000 [r516]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Do not complain if we can't figure out
	  the SVN root

2007-05-29 04:24 +0000 [r515]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Do not complain if .rpmmacros doesn't
	  exist.

2007-05-28 23:58 +0000 [r514]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: We no longer need chsh(1).

2007-05-28 15:46 +0000 [r513]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/safekeep-server.postinst,
	  safekeep/trunk/safekeep.spec.in: We no longer need to have a
	  working shell for the safekeep user. Better from a security
	  perspective.

2007-05-28 15:39 +0000 [r512]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Explicitely specify the shell to be used
	  for running the command, in case the default shell is not usable.
	  Suggested by Jeff Spaleta in order to avoid having a valid shell
	  for the safekeep account.

2007-05-27 14:53 +0000 [r511]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Create the safekeep user
	  following the Fedora policy:
	  http://fedoraproject.org/wiki/PackagingDrafts/UsersAndGroups

2007-05-27 14:48 +0000 [r510]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Explicitely add the group, as
	  per the Fedora policy:
	  http://fedoraproject.org/wiki/PackagingDrafts/UsersAndGroups The
	  rationale is: We want to invoke groupadd explicitly instead of
	  relying on useradd to create the group for us. This is because
	  useradd alone would fail if the group it tries to create already
	  existed.

2007-05-27 14:45 +0000 [r509]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Use abstract paths

2007-05-27 14:42 +0000 [r508]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/safekeep-server.prerm,
	  safekeep/trunk/safekeep.spec.in: The Fedora policy states that we
	  shouldn't delete our user:
	  http://fedoraproject.org/wiki/PackagingDrafts/UsersAndGroups Here
	  is the rationale: We never remove users or groups created by
	  packages. There's no sane way to check if files owned by those
	  users/groups are left behind (and even if there would, what would
	  we do to them?), and leaving those behind with ownerships
	  pointing to now nonexistent users/groups may result in security
	  issues when a semantically unrelated user/group is created later
	  and reuses the UID/GID. Also, in some setups deleting the
	  user/group might not be possible or/nor desirable (eg. when using
	  a shared remote user/group database). Cleanup of unused
	  users/groups is left to the system administrators to take care of
	  if they so desire.

2007-05-16 14:09 +0000 [r499]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ChangeLog: Update ChangeLog

2007-05-16 14:09 +0000 [r498]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Now we're 1.0

2007-05-16 14:07 +0000 [r497]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Update .spec changelog

2007-05-16 14:06 +0000 [r496]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ANNOUNCE: Prepare the 1.0 release

2007-05-16 13:55 +0000 [r495]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.backup.txt: Add warning about sharing
	  repository paths, hopefully this will help people avoid some
	  nasty situations.

2007-05-16 13:48 +0000 [r494]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.backup.txt: Fix reference to .backup
	  files

2007-04-27 05:05 +0000 [r490]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ChangeLog: Update ChangeLog

2007-04-27 05:05 +0000 [r489]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Release 0.9.3 is almost ready...

2007-04-27 05:04 +0000 [r488]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Update the RPM changelog for
	  release 0.9.3.

2007-04-27 05:01 +0000 [r487]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ANNOUNCE: Prepare the ANNOUNCE file for the
	  release.

2007-04-27 04:48 +0000 [r486]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.backup.txt,
	  safekeep/trunk/doc/safekeep.txt: A few more doc tweaks

2007-04-27 04:44 +0000 [r485]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.backup.txt,
	  safekeep/trunk/doc/safekeep.txt: Eduard Malinschi
	  <ed@lattica.com> Clarify the docs for database dumps.

2007-04-25 07:51 +0000 [r484]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: F i x d e b u g p r i n t o u t l i k e
	  t h i s .

2007-04-24 13:27 +0000 [r483]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/debian/control: Ubuntu's chsh is part of 'passwd'
	  package.

2007-04-23 21:01 +0000 [r482]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Fix the 'one letter per line' email
	  problem.

2007-04-21 15:19 +0000 [r481]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/safekeep-server.postinst,
	  safekeep/trunk/safekeep.spec.in, safekeep/trunk/debian/control:
	  Switch the default shell for the 'safekeep' account to /bin/bash.
	  We need it to be able to execute commands as 'safekeep' via
	  su(1). Also, to help people upgrading, force the shell of already
	  existing 'safekeep' users to /bin/bash. We can remove this in the
	  future once we know all old users have upgraded to 0.9.3 or
	  later.

2007-03-20 20:40 +0000 [r479]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Force data cleanup in case there have
	  been multiple backups since the last invocation

2007-03-16 11:55 +0000 [r478]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/debian/rules: Shell expansion doesn't seem to
	  happen here for whatever reason, do it manually.

2007-03-13 18:52 +0000 [r469]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ChangeLog: Update ChangeLog

2007-03-13 18:51 +0000 [r468]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Bump the version to 0.9.2

2007-03-13 18:41 +0000 [r467]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Make paths absolute only if they exist

2007-03-13 18:36 +0000 [r466]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in, safekeep/trunk/ANNOUNCE: Update
	  ANNOUNCE and release changelog

2007-03-13 17:35 +0000 [r465]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Update RPM changelog

2007-03-13 06:25 +0000 [r464]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Use the safekeep user for key
	  deployment for now, it is messy otherwise

2007-03-13 05:52 +0000 [r463]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Make sure the paths to the SSH keys are
	  absolute

2007-03-13 05:25 +0000 [r462]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Bind / in /mnt/ instead of /tmp/ to
	  avoid unpleasant situations with cleanup scripts.

2007-03-13 05:22 +0000 [r461]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Run the --server and --key mode as
	  root to test the new user-changing functionality

2007-03-13 05:20 +0000 [r460]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Fix typo

2007-03-09 17:48 +0000 [r459]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Cleanup snapshots as well

2007-03-09 17:40 +0000 [r458]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Fetch the RPMs from the build dirs.

2007-03-09 16:02 +0000 [r457]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Streamline the make targets to be closer
	  to the standard ones.

2007-03-09 15:28 +0000 [r456]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.backup.txt,
	  safekeep/trunk/debian/safekeep-server.postinst,
	  safekeep/trunk/debian/rules, safekeep/trunk/Makefile,
	  safekeep/trunk/safekeep-test, safekeep/trunk/safekeep.spec.in,
	  safekeep/trunk/safekeep, safekeep/trunk/doc/safekeep.txt,
	  safekeep/trunk/debian/safekeep-server.dirs: Rename
	  /etc/safekeep/clients.d to /etc/safekeep/backup.d

2007-03-09 02:35 +0000 [r455]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: More tracing

2007-03-09 02:21 +0000 [r454]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/rules, safekeep/trunk/safekeep.spec.in: Fix
	  permissions

2007-03-09 01:04 +0000 [r453]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Fix typo

2007-03-09 01:03 +0000 [r452]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in,
	  safekeep/trunk/debian/safekeep-server.dirs: Fix the packages to
	  include the clients.d dir as well

2007-03-09 00:33 +0000 [r451]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.txt: Fix docs

2007-03-08 22:44 +0000 [r450]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update TODO

2007-03-08 22:43 +0000 [r449]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/rules, safekeep/trunk/Makefile,
	  safekeep/trunk/debian/safekeep-server.docs,
	  safekeep/trunk/safekeep.spec.in, safekeep/trunk/safekeep.cron,
	  safekeep/trunk/sample.conf (removed),
	  safekeep/trunk/safekeep.conf (added): Install a default
	  safekeep.conf in /etc/safekeep

2007-03-08 21:46 +0000 [r448]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Make use of the new config files to
	  avoid the deprecation warning in tests

2007-03-08 20:56 +0000 [r447]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.backup.txt: Update docs

2007-03-08 20:53 +0000 [r446]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Look for the client .backup files in the
	  clients.d directory that is present in the same directory as the
	  safekeep.conf file.

2007-03-08 20:35 +0000 [r445]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.conf.txt, safekeep/trunk/safekeep,
	  safekeep/trunk/sample.conf: Add property that controls the data
	  repo base dir

2007-03-08 20:27 +0000 [r444]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.conf.txt, safekeep/trunk/safekeep,
	  safekeep/trunk/sample.conf: Instrument the --keys mode to work
	  with a different backup user. Rename the property to
	  'backup.user' instead of just 'user'.

2007-03-08 03:44 +0000 [r443]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.conf.txt, safekeep/trunk/safekeep,
	  safekeep/trunk/sample.conf: Teach safekeep to switch to a given
	  user in server mode. Controlled via the 'user' property in
	  /etc/safekeep/safekeep.conf

2007-03-07 22:40 +0000 [r442]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/doc/safekeep.txt: Allow
	  for the explicit spcification of an identity file during key
	  management

2007-03-07 21:28 +0000 [r441]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/doc/safekeep.txt:
	  Deprecate the ability to specify client config files on the
	  command line

2007-03-07 19:13 +0000 [r440]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix the local test

2007-03-07 19:13 +0000 [r439]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: We always need a props dict

2007-03-07 19:07 +0000 [r438]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Look at the default configuration files
	  only if they exist

2007-03-07 16:54 +0000 [r437]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.txt: Mention the new conf file

2007-03-07 16:52 +0000 [r436]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/doc/safekeep.txt:
	  Deprecate the email options

2007-03-07 16:28 +0000 [r435]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.conf.txt (added),
	  safekeep/trunk/debian/rules, safekeep/trunk/Makefile,
	  safekeep/trunk/debian/safekeep-server.docs,
	  safekeep/trunk/safekeep.spec.in, safekeep/trunk/sample.conf
	  (added): Add man page for safekeep.conf

2007-03-07 15:23 +0000 [r434]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.backup.txt,
	  safekeep/trunk/debian/rules, safekeep/trunk/Makefile,
	  safekeep/trunk/debian/safekeep-server.docs,
	  safekeep/trunk/safekeep.spec.in, safekeep/trunk/sample.backup
	  (added), safekeep/trunk/sample.conf (removed): Complete the
	  renaming of safekeep.conf.txt into safekeep.backup.txt

2007-03-06 21:15 +0000 [r433]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.backup.txt (added),
	  safekeep/trunk/doc/safekeep.conf.txt (removed),
	  safekeep/trunk/doc/safekeep.txt: Rename the man page
	  safekeep.conf to safekeep.backup to match the new naming
	  convention. Adjust the docs to the new directory structure.

2007-03-06 21:07 +0000 [r432]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Read the email properties from the
	  global config file

2007-03-06 04:52 +0000 [r431]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Add simple Java-like properties parser

2007-03-06 04:11 +0000 [r430]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Add (partial) support for a global
	  configuration file: /etc/safekeep/safekeep.conf Allow the
	  -c/--conf switch to take both global conf file and client conf
	  files as parameters.

2007-03-04 20:15 +0000 [r429]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Add migration code to source install as
	  well

2007-03-04 20:13 +0000 [r428]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/safekeep-server.postinst,
	  safekeep/trunk/debian/rules, safekeep/trunk/safekeep.spec.in,
	  safekeep/trunk/safekeep,
	  safekeep/trunk/debian/safekeep-server.dirs: Move the client
	  configuration files in /etc/safekeep/clients.d Change the
	  extension of client config files to .backup from .client. Provide
	  automatic migration code for DEB and RPM packages.

2007-03-04 17:52 +0000 [r427]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.txt: Fix restore docs.

2007-03-04 17:52 +0000 [r426]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update TODO

2007-02-23 22:23 +0000 [r425]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Do not stop if a single client fails.
	  Separate the client outputs to ease log reading.

2007-02-12 06:29 +0000 [r424]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ANNOUNCE: Small wording fix

2007-02-12 05:29 +0000 [r420]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ChangeLog: Update ChangeLog

2007-02-12 05:28 +0000 [r419]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Up the version to 0.9.1

2007-02-12 05:27 +0000 [r418]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update TODO

2007-02-12 05:07 +0000 [r416]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO, safekeep/trunk/ANNOUNCE (added): dd an
	  ANNOUNCE file for release 0.9.1

2007-02-12 04:36 +0000 [r415]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/README: Add a little intro about the project

2007-02-12 04:30 +0000 [r414]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile, safekeep/trunk/README,
	  safekeep/trunk/TODO: Add a way to install SafeKeep from source.

2007-02-12 00:40 +0000 [r413]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: "Jeff Spaleta"
	  <jspaleta@gmail.com> Get RPM into shape for a fedora project
	  submission.

2007-02-11 01:17 +0000 [r412]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO, safekeep/trunk/doc/safekeep.txt: More on
	  include/exclude directives

2007-02-11 01:07 +0000 [r411]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/README: Update requirements

2007-02-11 01:03 +0000 [r410]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in, safekeep/trunk/TODO: Python 2.2
	  is good enough

2007-02-10 17:00 +0000 [r409]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update TODO

2007-02-07 20:02 +0000 [r405]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update TODO

2007-02-07 01:53 +0000 [r404]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update TODO

2007-02-07 01:42 +0000 [r402]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO, safekeep/trunk/doc/safekeep.txt: Add some
	  documentation about data restoration

2007-02-06 16:30 +0000 [r399]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.conf.txt: Document the auto dir
	  creation

2007-02-05 22:33 +0000 [r398]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.conf.txt: Formatting fixes

2007-02-05 22:18 +0000 [r397]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update TODO

2007-02-05 22:15 +0000 [r396]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Try to automatically create the data
	  store dir if it doesn't exist.

2007-02-05 21:01 +0000 [r395]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: When adding lines to authorized_keys,
	  always end the last line with a NL

2007-02-05 18:28 +0000 [r394]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/doc/safekeep.txt: Avoid
	  scanning /etc/safekeep.d in non-client mode.

2007-02-05 06:19 +0000 [r388]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.conf.txt: By default, we exclude
	  non-matching files, which is different from what rdiff-backup
	  does. So make it more explicit in the documentation.

2007-02-05 06:13 +0000 [r387]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.conf.txt: Correct and clarify where
	  the data will go by default.

2007-02-05 06:07 +0000 [r386]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update the TODO

2007-02-04 05:18 +0000 [r369]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.txt: Eduard Malinschi
	  <ed@lattica.com> Fix typo.

2007-02-02 01:16 +0000 [r364]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Fix copy and paste bug

2007-02-02 01:05 +0000 [r362]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ChangeLog: Update ChangeLog one more time

2007-02-02 00:57 +0000 [r361]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Whitespace fix

2007-02-02 00:53 +0000 [r360]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.txt: Add documentation about keys
	  deployment

2007-02-02 00:43 +0000 [r359]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/TODO: Update TODO

2007-02-02 00:40 +0000 [r358]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ChangeLog: Update ChangeLog

2007-02-02 00:39 +0000 [r357]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Bump version to 0.9.0

2007-02-02 00:36 +0000 [r356]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Adjust test to match the new
	  structure used by the repos

2007-02-02 00:06 +0000 [r355]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Fix safekeep.conf missing
	  extension

2007-02-01 22:18 +0000 [r354]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.conf.txt: Finish documenting the
	  configuration format

2007-02-01 15:32 +0000 [r353]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/rules, safekeep/trunk/safekeep.spec.in:
	  Install the daily cron task as 'safekeep', not 'safekeep.cron' to
	  follow the common practice.

2007-02-01 04:13 +0000 [r352]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.conf.txt: Start documenting the
	  configuration format

2007-02-01 03:43 +0000 [r351]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/rules: Keep the file names consistent
	  between the .deb and .rpm packages. If we decide to rename them,
	  we'll do so across both formats.

2007-02-01 03:40 +0000 [r350]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Repeat the generic description
	  of the package in all subpackages.

2007-01-31 23:49 +0000 [r349]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/Makefile: Build DEBs in /tmp to avoid cluttering
	  the source dir.

2007-01-31 23:28 +0000 [r348]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/debian/docs (removed),
	  safekeep/trunk/debian/safekeep-common.dirs (added),
	  safekeep/trunk/debian/safekeep-server.postinst (added),
	  safekeep/trunk/debian/rules,
	  safekeep/trunk/debian/safekeep-server.prerm (added),
	  safekeep/trunk/debian/safekeep-server.docs (added),
	  safekeep/trunk/debian/control,
	  safekeep/trunk/debian/safekeep-common.docs (added),
	  safekeep/trunk/debian/dirs (removed),
	  safekeep/trunk/debian/safekeep-client.docs (added),
	  safekeep/trunk/debian/safekeep-server.dirs (added): Update the
	  DEB packaging: - split into -server, -client, -common subpackages
	  - create the 'safekeep' user for the server - install a daily
	  cron task - etc.

2007-01-31 20:57 +0000 [r347]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Typo.

2007-01-31 20:06 +0000 [r346]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.conf.txt (added),
	  safekeep/trunk/Makefile, safekeep/trunk/safekeep.spec.in: Add
	  skeletal man page for the configuration file.

2007-01-31 19:25 +0000 [r345]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in, safekeep/trunk/TODO (added): Add
	  a TODO file with ideas for the future

2007-01-31 16:20 +0000 [r344]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/ChangeLog (added): Add a ChangeLog file

2007-01-31 16:19 +0000 [r343]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile, safekeep/trunk/doc/users (added): Add
	  ChangeLog generation support

2007-01-31 15:55 +0000 [r342]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.cron: Make the reports look a bit more
	  interesting.

2007-01-31 15:21 +0000 [r341]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in, safekeep/trunk/safekeep.cron
	  (added): Install a daily cron task for safekeep

2007-01-30 19:31 +0000 [r340]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Use the regular logging functions to
	  complain about ignored files

2007-01-30 19:21 +0000 [r339]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Make use of the standard safekeep
	  user instead of inventing our own backup-op user.

2007-01-30 17:15 +0000 [r338]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Create the .ssh dir at install
	  time too

2007-01-30 16:55 +0000 [r337]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix string interpolation

2007-01-30 16:27 +0000 [r336]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix installation of packages on the
	  test boxes

2007-01-30 15:33 +0000 [r335]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: The new packages superseed the
	  old ones

2007-01-30 15:32 +0000 [r334]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Make sure the version we expect
	  ends up being installed

2007-01-30 15:25 +0000 [r333]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Instrument the fulltest to deal
	  with the multiple packages

2007-01-30 15:01 +0000 [r332]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Add the licensing files to all
	  packages

2007-01-30 04:45 +0000 [r331]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Create the homedir in the build
	  root

2007-01-30 04:43 +0000 [r330]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Create the home dir during build

2007-01-29 21:46 +0000 [r329]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Split RPM into 3 packages:
	  -common, -client, -server Add a bunch more Requires, etc. Create
	  a 'safekeep' user for the server part.

2007-01-29 19:13 +0000 [r328]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.txt: Fix the example with the latest
	  results

2007-01-29 17:22 +0000 [r327]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Ignode /selinux/ too.

2007-01-29 05:40 +0000 [r326]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: A more compact representation for the
	  excludes

2007-01-29 05:22 +0000 [r325]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Exclude unneeded stuff from named's
	  chroot. No need to include /, it's implicit in rdiff-backup.

2007-01-29 01:31 +0000 [r324]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: "Stelian Pop" <stelian@lattica.com>
	  Invoke remote command explicitly in case the wrong SSH key is
	  used with the client.

2007-01-28 23:34 +0000 [r323]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Let the user know we're excluding some
	  files because of wrong suffix.

2007-01-28 23:23 +0000 [r322]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: List the options in the same order as
	  the modes.

2007-01-27 18:13 +0000 [r321]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/doc/safekeep.txt: Remove
	  the --client mode from the online help screen, this is an
	  internal-only mode, and it just makes the output more confusing
	  and difficult to read.

2007-01-27 18:10 +0000 [r320]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/doc/safekeep.txt: We need
	  to support the -c/--conf in --keys mode too

2007-01-27 17:11 +0000 [r319]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/doc/safekeep.txt: Rename
	  the -m option to -s, now that it's available.

2007-01-27 17:09 +0000 [r318]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/doc/safekeep.txt: Use
	  sendmail is no SMTP server is specified.

2007-01-26 23:25 +0000 [r317]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Use the standard os.getenv() instead our
	  ad-hoc version

2007-01-26 23:16 +0000 [r316]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.txt: Document some more realistic
	  configuration examples.

2007-01-26 22:17 +0000 [r315]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Protect against duplicated client IDs

2007-01-26 22:04 +0000 [r314]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/sample.conf: Cleanup a bit the sample file

2007-01-26 22:02 +0000 [r313]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/docs, safekeep/trunk/sample.cfg (removed),
	  safekeep/trunk/safekeep-test, safekeep/trunk/safekeep.spec.in,
	  safekeep/trunk/safekeep, safekeep/trunk/sample.conf (added),
	  safekeep/trunk/doc/safekeep.txt: Rename the .cfg extension to
	  .conf, and the --cfg option to --conf

2007-01-26 21:46 +0000 [r312]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test, safekeep/trunk/safekeep,
	  safekeep/trunk/doc/safekeep.txt: Rename the -C option to -c now
	  that it is available.

2007-01-26 21:16 +0000 [r311]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.txt: Cleanup the docs a bit

2007-01-26 21:13 +0000 [r310]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile, safekeep/trunk/doc/Makefile (removed):
	  Merge the doc Makefile into the main Makefile. It makes it easier
	  if everything is in one place.
	  http://members.canb.auug.org.au/~millerp/rmch/recu-make-cons-harm.html

2007-01-26 20:35 +0000 [r309]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Less confusing name

2007-01-26 20:28 +0000 [r308]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/doc/safekeep.txt: Update documentation

2007-01-26 19:03 +0000 [r307]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Cleanup code, we check now the arguments
	  ahead of time.

2007-01-26 18:40 +0000 [r306]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Add support for filtering by client-ids
	  in server mode

2007-01-26 18:27 +0000 [r305]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Complain if inappropriate options are
	  used in selected mode

2007-01-26 18:18 +0000 [r304]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Validate arguments as clientIDs where
	  appropriate

2007-01-26 18:10 +0000 [r303]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Transform the list of configurations
	  into a dictionary. It should make it easier to look through the
	  known ids.

2007-01-26 16:47 +0000 [r302]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Default to server mode only at the end.
	  Small cleanups.

2007-01-26 16:33 +0000 [r301]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Allow only one mode at a time.

2007-01-26 16:32 +0000 [r300]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Teach usage() to exit if need be,
	  simplify the code a bit.

2007-01-26 16:26 +0000 [r299]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Be a little more careful when accessing
	  environment variables, provide fallbacks in case they are not
	  defined

2007-01-26 11:04 +0000 [r298]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Fix backup.log marker logic.

2007-01-26 04:27 +0000 [r297]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/doc/safekeep.txt: Make
	  the keys options more like options rather then mode selectors.
	  This means that any combination of them is now valid as input on
	  the command line. Addition documentation work to match these
	  changes.

2007-01-26 04:09 +0000 [r296]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep, safekeep/trunk/doc/safekeep.txt: Remove
	  the short options for selecting the operation mode, since they
	  were polluting the namespace and they weren't all that useful: -
	  the server mode is the defalt mode, no switch is required - the
	  client mode should never be invoked manually - the keys mode
	  benefits slighly from the additional clarity. This should allow
	  us in the future more freedom to add other options with those
	  names.

2007-01-26 03:56 +0000 [r295]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Reorganize the help message for clarity

2007-01-25 18:36 +0000 [r294]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: According to the FHS
	  (http://www.pathname.com/fhs/), we can also exclude the following
	  dirs: /var/cache /var/lock /var/run /var/tmp

2007-01-25 16:46 +0000 [r293]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Use os.environ['LOGNAME'] instead of
	  os.getlogin() to avoid errors when the controlling terminal goes
	  missing (http://docs.python.org/lib/os-procinfo.html)

2007-01-25 14:50 +0000 [r292]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Fix 'safekeep -k --deploy' problem.

2007-01-25 04:57 +0000 [r291]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Always nuke yum's cache of our
	  repo, it's changing too fast and causes problems

2007-01-25 04:47 +0000 [r290]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Create the config dir so it is
	  available to receive config files

2007-01-25 04:21 +0000 [r289]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix server namer.

2007-01-25 04:09 +0000 [r288]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: If the backup.log exists, mark current
	  possition and dump starting from the marker only

2007-01-24 19:58 +0000 [r287]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Provide a reasonable set of
	  includes/excludes if not specified

2007-01-23 22:11 +0000 [r286]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: Create dirs for the man page too

2007-01-23 22:04 +0000 [r285]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/README: Document the build requirements

2007-01-23 22:04 +0000 [r284]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep.spec.in: We need to create the dir for
	  the binary

2007-01-12 11:53 +0000 [r281]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/debian/rules, safekeep/trunk/debian/control: Fix
	  the debian build rules for the manpage.

2007-01-12 11:45 +0000 [r280]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/debian/rules, safekeep/trunk/Makefile,
	  safekeep/trunk/sample.cfg, safekeep/trunk/doc/callouts.xsl
	  (added), safekeep/trunk/safekeep.spec.in,
	  safekeep/trunk/debian/control, safekeep/trunk/doc/Makefile
	  (added), safekeep/trunk/safekeep, safekeep/trunk/doc (added),
	  safekeep/trunk/doc/safekeep.txt (added),
	  safekeep/trunk/doc/asciidoc.conf (added): Add documentation and
	  rework the sample configuration file.

2007-01-12 05:02 +0000 [r279]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/.project: Fix project name

2007-01-04 00:36 +0000 [r276]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/README: Test checkin 2

2007-01-04 00:31 +0000 [r275]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/README: Test checkin 1

2007-01-03 14:36 +0000 [r274]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/Makefile: Update packaging/versionning to SVN
	  instead of CVS.

2007-01-03 14:18 +0000 [r273]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep.spec.in: No need for python_sitelib for
	  SafeKeep.

2007-01-03 06:46 +0000 [r272]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/README: Fix protocol docs

2007-01-03 00:32 +0000 [r271]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Misc typo fixes. Use python provided
	  os.getlogin() and os.uname()[1] instead of looking at possibly
	  inexistent environment variables.

2007-01-03 00:30 +0000 [r270]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/sample.cfg: Fix retention parameter and XML syntax

2007-01-02 23:39 +0000 [r269]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Fix --status argument parsing and
	  reorganize the option list.

2007-01-02 23:18 +0000 [r268]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Whitespace cleanup.

2007-01-02 23:11 +0000 [r267]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/debian/docs (added), safekeep/trunk/debian/rules,
	  safekeep/trunk/Makefile, safekeep/trunk/safekeep.spec.in (added),
	  safekeep/trunk/debian/dirs: Packaging (rpm and deb) enhancements:
	  - first version of safekeep.spec.in - install documentations
	  (AUTHORS, README, LICENSE, etc) - use $(name) in Makefile instead
	  of safekeep when possible

2006-12-27 21:21 +0000 [r266]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/rules, safekeep/trunk/Makefile,
	  safekeep/trunk/README, safekeep/trunk/debian/changelog.in,
	  safekeep/trunk/sample.cfg, safekeep/trunk/safekeep-test,
	  safekeep/trunk/LICENSE, safekeep/trunk/debian/control,
	  safekeep/trunk/safekeep, safekeep/trunk/AUTHORS: Rename LaBackup
	  to SafeKeep, using the following rules: - in natural language, it
	  is spelled SafeKeep - the binary, package, dirs, etc. are all
	  lower case: safekeep This follows the pattern used by
	  SpamAssassin. Please note that the files have been manipulated in
	  the CVS repo to maintain the history. The new CVS module is
	  called 'SafeKeep', the old 'LaBackup' module still exists in CVS
	  as read-only.

2006-12-27 20:50 +0000 [r265]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/LICENSE (added), safekeep/trunk/AUTHORS (added),
	  safekeep/trunk/COPYING (added): Add OSS structure

2006-12-27 20:39 +0000 [r264]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/README, safekeep/trunk/safekeep: Add protocol
	  versioning.

2006-12-24 17:04 +0000 [r263]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Pass the default id to the client as
	  well.

2006-12-20 03:55 +0000 [r262]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Make use of our wrapper spawn()
	  function.

2006-12-20 03:46 +0000 [r261]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Replace the '+' in the snapshot version
	  with '.', the '+' is too unusual. Report the date in UTC to avoid
	  the need for a timezone. Don't separate time from date to create
	  one nr for the snapshot id.

2006-12-20 03:40 +0000 [r260]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Get rid of extranous white space at end
	  of line

2006-12-20 03:36 +0000 [r259]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Capture stdout and stderr of child
	  processes and redirect it to the logs

2006-12-19 05:50 +0000 [r258]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Exclude /etc/mtab and /etc/lvm
	  during backup, they change during snapshotting

2006-12-19 05:36 +0000 [r257]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add ability to pass extra args to
	  LaBackup, such as -vv flags for debugging

2006-12-19 05:30 +0000 [r256]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add parameter to control nr of test
	  iterations

2006-12-19 05:29 +0000 [r255]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Fix typo

2006-12-19 01:34 +0000 [r254]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Rerooting the paths on the rbind root
	  requires special attention

2006-12-19 01:27 +0000 [r253]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix snapshot syntax and enable
	  snapshots during testing.

2006-12-14 04:49 +0000 [r252]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix typo

2006-12-14 04:45 +0000 [r251]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Always reset the known_hosts file

2006-12-14 04:32 +0000 [r250]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Always reset the host file

2006-12-14 04:21 +0000 [r249]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Be a bit more explicit

2006-12-14 04:19 +0000 [r248]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix typo

2006-12-14 04:07 +0000 [r247]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix typo

2006-12-14 04:05 +0000 [r246]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add support for deploying to
	  multiple distros

2006-12-14 04:03 +0000 [r245]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add automatic distribution
	  detection

2006-12-14 03:49 +0000 [r244]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Use a more distinctive name for the
	  devel repo

2006-12-14 03:26 +0000 [r243]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Bunch of little fixes

2006-12-14 02:57 +0000 [r242]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: If the client is remote (that is, we
	  have a host), we must have a username and an identity file, so
	  reflect that in the code by removing all the code testing for
	  their existance.

2006-12-14 02:46 +0000 [r241]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Use the default user too

2006-12-14 02:45 +0000 [r240]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Use the default key for ctrl to
	  test that portion of the code

2006-12-14 02:42 +0000 [r239]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Always perform the LVM check for
	  now

2006-12-14 02:42 +0000 [r238]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Check for removed --rbinds

2006-12-14 02:40 +0000 [r237]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Mark the rbind dir so we can later find
	  it easily

2006-12-14 02:32 +0000 [r236]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add conditional snapshotting

2006-12-14 02:23 +0000 [r235]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Mark TODOs clearly

2006-12-14 02:21 +0000 [r234]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/README: More instructions.

2006-12-14 02:21 +0000 [r233]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Ensure RDBMSes are installed and
	  running

2006-12-13 04:43 +0000 [r232]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Ignore clients that don't have proper
	  keys

2006-12-13 04:39 +0000 [r231]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/README (added): Add a small README with info about
	  the full test

2006-12-13 04:37 +0000 [r230]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add client automatically to the
	  server's /etc/hosts

2006-12-13 04:08 +0000 [r229]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Move fingerprint setup in the
	  server section

2006-12-13 04:00 +0000 [r228]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Automatically deploy client's
	  fingerprint to the server so we avoid any kind of interactivity
	  during key management.

2006-12-13 03:24 +0000 [r227]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add support for local commands to
	  all helper functions. Take over client before we take over the
	  server.

2006-12-12 05:21 +0000 [r226]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Rename testfull to fulltest, it's easier
	  on the tongue.

2006-12-12 05:20 +0000 [r225]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/rules: Rename /etc/LaBackup to
	  /etc/LaBackup.d

2006-12-12 05:16 +0000 [r224]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/debian/rules, safekeep/trunk/Makefile,
	  safekeep/trunk/debian/changelog.in, safekeep/trunk/sample.cfg,
	  safekeep/trunk/safekeep-test, safekeep/trunk/debian/control,
	  safekeep/trunk/safekeep: Standardize capitalization to
	  'LaBackup'. Rename /etc/labackuip --> /etc/LaBackup.d

2006-12-12 04:49 +0000 [r223]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Backup /srv instead of /var, there
	  we have too many files changing. Exclude a few problematic files
	  from the backup. Small misc fixes.

2006-12-11 19:05 +0000 [r222]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Make the MD5 sums gathered on
	  client and server as simialar as possible in terms of the
	  filenames

2006-12-11 04:21 +0000 [r221]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Prepare the server to receive the
	  data; better tracing

2006-12-11 03:55 +0000 [r220]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix copy&paste bug

2006-12-11 03:46 +0000 [r219]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Install/upgrade appropriately. Also
	  make sure to blow the cache away to we get the latest

2006-12-11 03:35 +0000 [r218]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: We renamed the key-{ctrl,data} to
	  key_{ctrl,data}

2006-12-11 03:33 +0000 [r217]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Do not attempt to cleanup non-existant
	  dir

2006-12-11 03:31 +0000 [r216]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Make package optional, and turn it
	  off by default.

2006-12-11 03:28 +0000 [r215]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Tiny fix

2006-12-11 02:56 +0000 [r214]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Now we have LaBack in repo, install
	  it

2006-12-11 02:55 +0000 [r213]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Build, sign and deploy the .rpm

2006-12-11 01:45 +0000 [r212]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Deploty the server's ID to the
	  cliend a bit smarter, so we don't keep on adding it ad-infinitum.

2006-12-11 01:40 +0000 [r211]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Getting rid of the .ssh dir is not
	  a good idea as we lose access to the box

2006-12-11 01:38 +0000 [r210]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add the key blindly to make sure we
	  have it, and we are asked the passwd only once.

2006-12-11 01:32 +0000 [r209]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix typo

2006-12-11 01:31 +0000 [r208]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Use the new func to reimplement
	  writefile()

2006-12-11 01:29 +0000 [r207]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add function that supports feeding
	  input to the remote command

2006-12-11 01:28 +0000 [r206]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Generate a server id file, and
	  install it on client. Then install the control and data keys via
	  key management functionality.

2006-12-10 19:48 +0000 [r205]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Nicer key naming for test server

2006-12-10 19:05 +0000 [r204]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Introduce a --status action for the
	  --keys mode, and made it default. It displays the key status
	  (e.g. what will happen on --deploy) for each of the named
	  clients. Fix a few bugs left over in the key management code.

2006-12-10 08:00 +0000 [r203]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Remove debug statement

2006-12-10 07:56 +0000 [r202]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Remember the original line and feed that
	  to the client

2006-12-10 07:54 +0000 [r201]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Render the keys back to text form

2006-12-10 07:51 +0000 [r200]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Actually returned the parsed keys

2006-12-10 07:50 +0000 [r199]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Implement parse_authorized_keys()
	  function. Disable agent forwarding for the commands we are
	  running on clients.

2006-12-10 00:36 +0000 [r198]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Never return non-zero exit code

2006-12-09 22:07 +0000 [r197]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Better key comment

2006-12-09 22:04 +0000 [r196]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Automatically generate keys if they
	  don't exist. Rename some variables for clarity.

2006-12-09 21:36 +0000 [r195]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: On the server side, tracing information
	  should go to the stderr.

2006-12-09 21:35 +0000 [r194]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Better tracing

2006-12-09 21:31 +0000 [r193]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Better error reporting

2006-12-09 21:28 +0000 [r192]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Get rid of the --clientid option, pass
	  the ids, if any, as arguments. Handle all clients if no id was
	  specified on the command line.

2006-12-09 06:29 +0000 [r191]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Smartly deploy keys to the client (in an
	  idempotentic manner)

2006-12-09 06:01 +0000 [r190]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: No need to restrict by host, it
	  overcomplicates things

2006-12-09 05:59 +0000 [r189]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Output all key lines at once

2006-12-09 05:56 +0000 [r188]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/sample.cfg, safekeep/trunk/safekeep-test,
	  safekeep/trunk/safekeep: Rename key/key2 to key_ctrl/key_data
	  respectively

2006-12-09 05:48 +0000 [r187]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Provide default values for key and key2

2006-12-08 05:34 +0000 [r186]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Replace ssh-copy-id with our own
	  (better) implementation. Fix a nasty copy & paste bug, better
	  tracing.

2006-12-08 04:58 +0000 [r185]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Better trace

2006-12-08 04:56 +0000 [r184]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix copy & paste error

2006-12-08 04:54 +0000 [r183]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Factor out capturing of output from
	  remote host

2006-12-08 04:49 +0000 [r182]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: More verbosity, add missing mode

2006-12-08 04:41 +0000 [r181]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add readfile() abstraction (able to
	  read content from remote hosts as well), and make use of it

2006-12-08 04:33 +0000 [r180]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Install the key in backup-op's home
	  dir, not in root's dir. Lighter quoting, we don't need to be so
	  strict.

2006-12-08 04:27 +0000 [r179]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Do not attempt to get LaBackup via
	  yum for now, it's not available just yet

2006-12-07 22:32 +0000 [r178]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix typo

2006-12-07 22:31 +0000 [r177]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Take over the client & server
	  unconditionally, so we have less chances of breakaage in the test

2006-12-07 20:28 +0000 [r176]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Quote remote commands properly

2006-12-07 20:14 +0000 [r175]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix the command generation now that
	  we abstracted away mkssh()

2006-12-07 16:51 +0000 [r174]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix typo, and declare
	  ssh_id_file_keys as global

2006-12-07 16:47 +0000 [r173]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Add ability to invoke test via the
	  Makefile

2006-12-07 16:46 +0000 [r172]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Avoid errors on non-existant
	  environment variables

2006-12-07 16:37 +0000 [r171]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Provide decent company wide
	  defaults for LaBackup test boxes

2006-12-07 16:35 +0000 [r170]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Read the client/server address from
	  the environment if available

2006-12-07 16:27 +0000 [r169]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Separate rcmd from rpipe for
	  clarity. Allow them to return the exit status if no description
	  is passed it

2006-12-07 16:21 +0000 [r168]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add comment on what we need to do
	  to get rid of ssh-copy-id

2006-12-07 15:26 +0000 [r167]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Try to guess SSH id files/keys
	  automatically

2006-12-07 14:26 +0000 [r166]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Allow ability to specify identity
	  file

2006-12-07 14:19 +0000 [r165]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix a bunch of obvious bugs

2006-12-05 05:16 +0000 [r164]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Remove extraneous line

2006-12-05 05:15 +0000 [r163]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Allow for specifying the address of
	  the client and server in the remote test

2006-12-05 05:11 +0000 [r162]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: For now, run the full test only for
	  2 interations

2006-12-05 05:10 +0000 [r161]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Remove stale arg

2006-12-05 04:58 +0000 [r160]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Create the base .cfg file for the
	  full test. Small cleanups and reorgs.

2006-12-05 04:42 +0000 [r159]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test, safekeep/trunk/safekeep: Implement
	  the --print flag for the --keys mode.

2006-12-05 04:39 +0000 [r158]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Install the keys on the client.

2006-12-05 04:31 +0000 [r157]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Merge the lbc-copy-id script into
	  LaBackup.

2006-12-05 04:27 +0000 [r156]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Better id

2006-12-05 04:26 +0000 [r155]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Merge key management into LaBackup

2006-12-05 03:49 +0000 [r154]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Refactor the parsing code to a separate
	  function

2006-12-05 02:23 +0000 [r153]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Fix typo

2006-12-05 02:23 +0000 [r152]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Reorg help output, add more checks

2006-12-05 02:03 +0000 [r151]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix glob pattern

2006-12-05 01:36 +0000 [r150]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Fix typo

2006-12-04 06:09 +0000 [r149]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Compute the MD5 sums of all files
	  that were backed up

2006-12-04 06:08 +0000 [r148]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Implement big chunk of remote test

2006-12-04 05:57 +0000 [r147]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add ability to pipe from one remote
	  machine to another

2006-12-04 05:39 +0000 [r146]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Create files on client

2006-12-04 05:35 +0000 [r145]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add support for creating file on a
	  remote machine as well

2006-12-03 21:38 +0000 [r144]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Add start for test-remote, plus
	  document remaining steps to accomplish

2006-12-03 19:21 +0000 [r143]  Mihai Popa <mihai@lattica.com>

	* safekeep/trunk/safekeep-test: fix comments

2006-12-03 18:26 +0000 [r142]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Just do 2 iterations for the local
	  test, we don't need more

2006-12-03 18:25 +0000 [r141]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Make the database name optional, and
	  dump all databases if it's not specified.

2006-12-03 18:05 +0000 [r140]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: We are ready for a 0.1.0 release

2006-12-03 17:48 +0000 [r139]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Add support for controlling the
	  verbosity level both on client and server

2006-12-03 17:17 +0000 [r138]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Invert the meaning of the client/server
	  flag

2006-12-03 17:11 +0000 [r137]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Move function in more appropriate place

2006-12-03 17:10 +0000 [r136]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Log the data in the correct format
	  directly on the client side

2006-12-03 17:03 +0000 [r135]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Get rid of trailing whitespace in lines
	  we read from a file

2006-12-03 17:02 +0000 [r134]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Lighter output

2006-12-03 17:02 +0000 [r133]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Turn the logbuf into a list for
	  performance reasons

2006-12-03 17:00 +0000 [r132]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Wait a bit between tests,
	  rdiff-backup can't run within the same second

2006-12-03 16:47 +0000 [r131]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Don't bother setting the remote schema
	  if we don't have a host

2006-12-03 16:43 +0000 [r130]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile: Add help info for test

2006-12-03 16:42 +0000 [r129]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Don't recreate things unnecessarily
	  in between tests

2006-12-03 15:41 +0000 [r128]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep-test: Correctly compute the MD5 sums

2006-12-03 15:36 +0000 [r127]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Do not assume the rdiff-backup-data dir
	  always exists

2006-12-03 15:33 +0000 [r126]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Do not default host and user to
	  localhost and root, simply run the backup in local mode if not
	  present. Debug and logging enhancements.

2006-12-03 05:41 +0000 [r125]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/Makefile, safekeep/trunk/safekeep-test (added):
	  Add testing harness

2006-12-02 23:15 +0000 [r124]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Small syntax fix

2006-12-02 20:28 +0000 [r123]  Eduard Malinschi <ed@lattica.com>

	* safekeep/trunk/sample.cfg: update comments

2006-12-02 00:39 +0000 [r122]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/sample.cfg: Fix sample.cfg

2006-11-30 06:07 +0000 [r121]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Properly quote command passed to 'su -c'

2006-11-30 06:01 +0000 [r120]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Whitespace fix

2006-11-30 06:00 +0000 [r119]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Don't bother with fancy error handling
	  on server, client knows to cleanup after itself in case it loses
	  connection with the server.

2006-11-30 05:58 +0000 [r118]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Move rdiff-backup logs handling closer
	  to where it's needed

2006-11-30 05:56 +0000 [r117]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Remove the BDIR protocol command, do
	  everything in SETUP. This way we can atomically create and test
	  if we can --rbind the bdir. Move sending of reposes from client
	  to server in the main client loop. Allow for bdir to simply be
	  '/' if we don't need a temporary root. Create a temporarry root
	  in bdir only if we have snapshots. Fix a bunch more of path and
	  string manipulations.

2006-11-30 04:41 +0000 [r116]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Rename the '<dir>' element to '<repo>'
	  for clarity. Add a 'retention' attribute to '<repo>' that
	  controls the amount of time data will be retained in the repo.

2006-11-30 04:27 +0000 [r115]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: More path handling cleanups

2006-11-30 03:49 +0000 [r114]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Dump the backup.log and statistics file.

2006-11-30 03:33 +0000 [r113]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: We now separate server/client output by
	  case

2006-11-30 03:31 +0000 [r112]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Add support function to dump content of
	  file to logs

2006-11-30 03:26 +0000 [r111]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Move send_notification to a more
	  appropriate portion of the file

2006-11-30 03:25 +0000 [r110]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Tiny clarification.

2006-11-30 03:24 +0000 [r109]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Support multiple email addresses. Small
	  fixes for the help output.

2006-11-29 21:59 +0000 [r108]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Factor out the logging of data into one
	  function called log(). Rename the log buffer to logbuf. Better
	  display of messages from client.

2006-11-29 21:46 +0000 [r107]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: ERROR is a reserved word

2006-11-29 19:05 +0000 [r106]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Follow the smtplib convention for
	  missing SMTP host

2006-11-29 18:32 +0000 [r105]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: A bit more clear message

2006-11-29 18:31 +0000 [r104]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Factor out email notifications from
	  server business. Handle all exceptions at the higher level.

2006-11-29 16:40 +0000 [r103]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Small cleanup

2006-11-29 04:42 +0000 [r102]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Encode the instance information in the
	  snapshot name

2006-11-29 04:39 +0000 [r101]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Add missing param

2006-11-29 04:38 +0000 [r100]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Refactor snapshot info handling in one
	  function. Use the long option names where possible for clarity.
	  Small cleanups.

2006-11-29 04:15 +0000 [r99]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Factor out process spawning.

2006-11-29 02:53 +0000 [r98]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: More standard handling of paths, and a
	  few little cleanups.

2006-11-28 05:56 +0000 [r97]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Fix error in cleanup logic, rename
	  variable for readability.

2006-11-28 05:50 +0000 [r96]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: We don't snapshot without a bdir

2006-11-28 05:48 +0000 [r95]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Better error handling and dealing with
	  no bind-dir in client cleanup.

2006-11-28 05:37 +0000 [r94]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Abstract the sending of the data a bit

2006-11-28 05:30 +0000 [r93]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Bit cleaner error reporting

2006-11-28 01:18 +0000 [r92]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: This is a config file problem

2006-11-28 01:16 +0000 [r91]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Make the --rbind optional, just skip the
	  snapshots if we don't have it

2006-11-28 01:05 +0000 [r90]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: We no longer crap out of DB dump

2006-11-28 01:01 +0000 [r89]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Cleanup error handling and logging for
	  snapshot setup and teardown.

2006-11-19 21:52 +0000 [r88]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/debian/changelog.in: gpg does a full string search
	  on the email.

2006-11-19 21:49 +0000 [r87]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/debian/changelog.in: Use devel@lattica.com so
	  debuild will automatically sign the package

2006-11-19 21:46 +0000 [r86]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/Makefile: '_' is a reserved character in DEB
	  package naming, try with '+'

2006-11-19 21:41 +0000 [r85]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/debian/rules, safekeep/trunk/Makefile: Now make it
	  also work...

2006-11-19 21:18 +0000 [r84]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/Makefile (added): Add a central Makefile which
	  facilitates the build.

2006-11-19 21:17 +0000 [r83]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/debian/copyright (added),
	  safekeep/trunk/debian/rules (added),
	  safekeep/trunk/debian/changelog.in (added), safekeep/trunk/debian
	  (added), safekeep/trunk/debian/control (added),
	  safekeep/trunk/debian/dirs (added), safekeep/trunk/safekeep,
	  safekeep/trunk/debian/compat (added): RPM and DEB packaging, all
	  with a global Makefile.

2006-11-08 08:57 +0000 [r82]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/sample.cfg: Correct some typos.

2006-11-08 05:04 +0000 [r81]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Add a new option: -C, --cfg=<file|dir>
	  If the argument is a filename, it will use it as a configuration
	  file. No attention is payed to the extension. If it is a
	  directory, it will scan it for files that have the extension
	  .cfg, and use those as configuration files. If no such
	  configuration option is present on the command line, the program
	  simply scans '/etc/labackup' for .cfg files, as before. (It
	  behaves as if it was involved with -C /etc/labackup).

2006-11-06 21:03 +0000 [r80]  Eduard Malinschi <ed@lattica.com>

	* safekeep/trunk/sample.cfg: changed comment style

2006-11-05 21:16 +0000 [r79]  Eduard Malinschi <ed@lattica.com>

	* safekeep/trunk/sample.cfg: Added comments to the config file

2006-11-01 21:47 +0000 [r78]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Let the user specify (using -m/--smtp
	  command line options) the mail server to use when sending mails.

2006-11-01 21:39 +0000 [r77]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Include hostname in the subject of
	  emails from LaBackup.

2006-10-30 14:07 +0000 [r76]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Doh. lvcreate/lvremove prefer the
	  /dev/<group>/<volume> syntax over the
	  /dev/mapper/<group>-<volume> one.

2006-10-30 03:26 +0000 [r75]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Replace more of the leftover symbols

2006-10-30 03:04 +0000 [r74]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Fix some leftover code

2006-10-29 23:24 +0000 [r73]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Accept both
	  '/dev/mapper/<group>-<volume>' and '/dev/<group>/<volume>'
	  syntaxes for LVM snapshotting.

2006-10-16 21:01 +0000 [r72]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Add a proper subject: header to the
	  notification email.

2006-10-16 20:44 +0000 [r71]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Whitespace cleanups.

2006-10-16 20:43 +0000 [r70]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Implement email notifications.

2006-10-01 00:48 +0000 [r69]  Mihai Popa <mihai@lattica.com>

	* safekeep/trunk/safekeep: remove typo ? not sure how it got there
	  in the first place

2006-07-17 04:02 +0000 [r68]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Issue warnings instead of crashing
	  during DB dumping process.

2006-07-17 04:00 +0000 [r67]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Separate the DB user from the Unix user,
	  make them both optional. If Unix user is specified, run the dump
	  command as that user. This way we don't require to implement
	  "trust" policy for users.

2006-07-13 19:16 +0000 [r66]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Test the DB type, not database instance
	  name.

2006-07-13 19:14 +0000 [r65]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Always cleanup before exiting the
	  client.

2006-07-13 18:36 +0000 [r64]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Catch errors early on.

2006-07-13 18:33 +0000 [r63]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Mark config errors differently, they are
	  user errors.

2006-07-13 18:10 +0000 [r62]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Avoid asserts, be explicit about the
	  problem.

2006-07-13 17:47 +0000 [r61]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Use recommended popen() calls.

2006-07-13 17:13 +0000 [r60]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Force the remove of the snapshot,
	  otherwise we get prompted.

2006-07-13 17:12 +0000 [r59]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: read the config file only once, to avoid
	  races. Fix syntax for splice operation.

2006-07-13 17:02 +0000 [r58]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Default the id to the filename of the
	  config file. Factor out the config extension into a constant.

2006-07-13 16:56 +0000 [r57]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Pick a more direct name for the dev->mp
	  function.

2006-07-13 16:28 +0000 [r56]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Fix /proc/mount parsing.

2006-07-13 16:26 +0000 [r55]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Another try at fixing snap paths.

2006-07-13 16:16 +0000 [r54]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Don't use '-snap' because we replace -
	  with / later...

2006-07-13 16:10 +0000 [r53]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Deduct mountpoint from /dev/mapper/
	  specification.

2006-07-13 15:53 +0000 [r52]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Correct mount point (its the third
	  element in 'mount').

2006-07-13 15:42 +0000 [r51]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Read the mount points from the output of
	  mount, /proc/mounts does not least the LVM volumes on certain
	  kernels.

2006-07-13 14:29 +0000 [r50]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Go back to a single client instance, it
	  was a bad idea to separate SETUP and CLEANUP Add a separate BDIR
	  command to create the backup dir Implement the mount --rbind
	  thingie Finish the LVM snapshot implementation using the mount
	  --rbind namespace (not tested...) Cleanup the info/error messages
	  Threat the client errors in the client's while loop (we don't
	  want to exit the client on errors)

2006-07-13 10:35 +0000 [r49]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Make the temp dir name part of the
	  client/server protocol. Client generates it in SETUP and returns
	  it to the server, which passes it back to the client in the
	  CLEANUP command.

2006-07-13 10:17 +0000 [r48]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Factorized some code Make separate
	  invocations for setup and cleanup to ease cleanups in case of
	  errors

2006-07-13 03:57 +0000 [r47]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Remove the client-side semaphore, rely
	  on a second key to be used by rdiff-backup for the data-channel.

2006-07-13 03:54 +0000 [r46]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Revert inocent refactoring, it's
	  breaking the code for mysterious reasons (I'm willing to pay
	  money for a good explanation)

2006-07-13 03:19 +0000 [r45]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Remove unused code

2006-07-13 03:17 +0000 [r44]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Refactor the client backup bit into its
	  own function.

2006-07-13 03:13 +0000 [r43]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/sample.cfg, safekeep/trunk/safekeep: Add the
	  (optional) second key to be used by rdiff-backup. Build the
	  remote-schema for rdiff-backup explicitely, don't rely on the
	  default one.

2006-07-12 22:20 +0000 [r42]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Remove redundant exit

2006-07-12 22:01 +0000 [r41]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Fix slice for good

2006-07-12 21:36 +0000 [r40]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/sample.cfg, safekeep/trunk/safekeep: Allow for an
	  explicit identity file/public key.

2006-07-12 21:11 +0000 [r39]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Make expandtab automatic for the one
	  true editor.

2006-07-12 21:06 +0000 [r38]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Retab to avoid ugly diffs.

2006-07-12 21:04 +0000 [r37]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Fix slice, simplify code a bit.

2006-07-12 20:35 +0000 [r36]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Make the <dir> optional. Fix the
	  traceback.

2006-07-12 20:16 +0000 [r35]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Fix indentation

2006-07-12 19:57 +0000 [r34]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Use exceptions consistently throughout
	  the code when dealing with problems (instead of the fatal()
	  routine). Handle exceptions centrally, at the outer layer. Use
	  Python's try/finally statement to handle cleanup.

2006-07-12 19:35 +0000 [r33]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Separate the protocol for the config
	  file format. Reorganize the code a bit as a result.

2006-07-12 18:17 +0000 [r32]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Make good use of the log() function. Add
	  a fatal() funtion, similar to log(), taht quits the app. Add
	  ability to log exceptions with tracebacks.

2006-07-12 17:57 +0000 [r31]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: More Pythoneque comparisons.

2006-07-12 17:50 +0000 [r30]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Exclude by default stuff that is not
	  explicitly included. More debugging code.

2006-07-12 17:43 +0000 [r29]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Default the 'dir' to the 'id' of the
	  backup job.

2006-07-12 17:40 +0000 [r28]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Default 'host' to localhost. More
	  pythonesque comparison.

2006-07-12 17:39 +0000 [r27]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/sample.cfg, safekeep/trunk/safekeep: Remove the
	  'root' attribute, always use '/'. It is not useful without a way
	  to control destination directory.

2006-07-12 04:07 +0000 [r26]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Unify handling of the
	  <include>/<exclude> directives so that we can easily maintain
	  their relative order.

2006-07-11 18:26 +0000 [r25]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: It almost always make sense to run the
	  client as root, so default the user name to 'root'.

2006-07-11 16:25 +0000 [r24]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Use manual read()/write() instead of
	  pexpect methods, the pexpect module is not standard in RHEL4.

2006-07-11 15:53 +0000 [r23]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Make the <setup> element optional for
	  the config file.

2006-07-11 15:50 +0000 [r22]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Dump the traceback for easier debugging.

2006-07-11 15:42 +0000 [r21]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Use a temporary directory instead of
	  /mnt for mounting LVM snapshots

2006-07-11 14:44 +0000 [r20]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/sample.cfg, safekeep/trunk/safekeep: Implemented
	  LVM snapshots. Changed the 'volume' attribute to 'device' and
	  added the 'size' attribute.

2006-07-11 11:20 +0000 [r19]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Implement --include/--exclude options.

2006-07-11 09:16 +0000 [r18]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Final retab.

2006-07-11 09:14 +0000 [r17]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Combine hard tabs with spaces.

2006-07-11 09:08 +0000 [r16]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Retab with 4 spaces instead of real
	  tabs.

2006-07-11 08:46 +0000 [r15]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/sample.cfg (added): Sample config file for
	  LaBackup

2006-07-11 08:45 +0000 [r14]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Fix Dimi's changes.

2006-07-11 04:42 +0000 [r13]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Make 'root' be an attribute to <data>
	  rather then an element inside it.

2006-07-11 04:39 +0000 [r12]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Add dump implementation. Add 'user'
	  (optional) attribute to <dump> to specify the database user to
	  connect as. It may also need to support an option 'passwd'
	  attribute too.

2006-07-10 23:14 +0000 [r11]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Introduce a new attribute to <dump>
	  called cleanup. Default it to false, must be explicitily set to
	  true for the dump to be deleted after the backup. Remove the dump
	  file for the ones requesting cleanup of exit.

2006-07-10 16:18 +0000 [r10]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Use 'id' for presentation purposes.

2006-07-10 15:58 +0000 [r9]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Client/server works now Implemented the
	  new style config file.

2006-07-07 12:37 +0000 [r8]  Stelian Pop <stelian@lattica.com>

	* safekeep/trunk/safekeep: Half-implemented the client/server
	  protocol. It does not work yet...

2006-07-03 15:47 +0000 [r7]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Fix indentation and cleanups.

2006-07-03 15:42 +0000 [r6]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Outout errors to stderr.

2006-07-03 15:32 +0000 [r5]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: This is a python file, it's text.

2006-07-03 15:31 +0000 [r4]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/.project: We no longer need yaml.

2006-07-03 15:31 +0000 [r3]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep: Switch from yaml to xml to avoid
	  dependence on non-standard lib.

2006-07-03 06:32 +0000 [r2]  Dimi Paun <dimi@lattica.com>

	* safekeep/trunk/safekeep (added), safekeep/trunk/.project (added):
	  Add first cut at our backup script.

2006-07-03 06:32 +0000 [r1]  Dimi Paun <dimi@lattica.com>

	* safekeep/tags (added), safekeep (added), safekeep/trunk (added),
	  safekeep/branches (added): New repository initialized by cvs2svn.

